{% extends "base.html" %}

{% load static %}

{% block extra_head %}
<link rel="stylesheet" href="{% static "users/wishlist.css" %}">
{% endblock extra_head %}


{% block body %}
<div class="wishlist-wrapper">
    <div class="wishlist-header">
        <div class="header-content">
            <h1 class="heading">My Wishlist</h1>
            <p class="wishlist-count">{{ wishlist|length }} items saved</p>
        </div>
        <div class="search-bar">
            <input type="text" placeholder="Search wishlist..." id="wishlistSearch">
        </div>
    </div>

    <div class="product-container">
        {% if wishlist %}
        {% for item in wishlist %}
        <div class="product-card">
            <div class="product-img-wrapper">
                <div class="product-img">
                    <img src="{{item.product.image.url}}" alt="{{item.product.name}}">
                </div>
                <button class="wishlist-remove-btn" title="Remove from wishlist">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                    </svg>
                </button>
            </div>
            <div class="product-info">
                <div class="title">{{item.product.name}}</div>
                <div class="price">PKR {{item.product.price}}</div>
                <div class="desc">{{item.product.description|truncatechars:80}}</div>
            </div>
            <button class="cart-btn" type="submit">Add to Cart</button>
        </div>
        {% endfor %}
        {% else %}
        <div class="no-products">No products found</div>
        {% endif %}
    </div>
</div>
{% endblock body %}